(this["webpackJsonpprius-fe"]=this["webpackJsonpprius-fe"]||[]).push([[50],{1542:function(e,t,r){"use strict";var n=r(2),a=r(4),i=r(12),o=r(0),c=r(1),s=r(58),l=r(1865),u=r(53),d=r(1364),b=r(850),f=r(1420),p=r(1418),h=r(121),y=r(9),m=r(40),j=r(31),O=r(1506),g=Object(s.a)((function(e){return{btnExport:Object(i.a)({},e.breakpoints.down("md"),{height:"1.5rem"})}}));t.a=function(e){var t=e.loading,r=e.isDaily,i=void 0!==r&&r,s=e.getSelectedPeriod,v=g(),x=Object(c.useRef)(null),w=i?["yesterday","twoDaysAgo"]:["weekly","monthly"],A=Object(c.useState)(i?"yesterday":"weekly"),k=Object(a.a)(A,2),S=k[0],D=k[1],P=Object(c.useState)(!1),E=Object(a.a)(P,2),T=E[0],C=E[1],N=function(e){x.current&&x.current.contains(e.target)||C(!1)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(l.a,{color:"primary",ref:x,"aria-label":"split button",className:v.btnExport,children:[Object(o.jsxs)(u.a,{variant:"outlined",disabled:t,style:{borderRadius:"3px 0 0 3px"},children:[t&&Object(o.jsx)(j.default,{isWithText:!1,size:12}),O.c[S]]}),Object(o.jsx)(u.a,{size:"small",variant:"outlined","data-identity":"order-button-toggleStatistic","aria-controls":T?"split-button-menu":void 0,"aria-expanded":T?"true":void 0,style:{borderRadius:"0 3px 3px 0"},"aria-haspopup":"menu",disabled:t,onClick:function(){C((function(e){return!e}))},children:Object(o.jsx)(y.O,{fontSize:"small"})})]}),Object(o.jsx)(d.a,{open:T,anchorEl:x.current,role:void 0,transition:!0,placement:"bottom-end",children:function(e){var t=e.TransitionProps,r=e.placement;return Object(o.jsx)(b.a,Object(n.a)(Object(n.a)({},t),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(o.jsx)(m.a,{padding:"noPadding",rounded:!0,children:Object(o.jsx)(f.a,{onClickAway:N,children:Object(o.jsx)(p.a,{id:"dashboard-menus-period",children:w.map((function(e){return Object(o.jsx)(h.a,{"data-identity":"dashboard-menu-".concat(e,"Period"),style:{fontWeight:e===S?"bold":"normal"},onClick:function(){return function(e){var t=new Date((new Date).setHours(23,59,59,59)-864e5),r=new Date((new Date).setHours(23,59,59,59)-1728e5),n=new Date(new Date(r.getTime()-5184e5).setHours(0,0,0,0)),a=new Date(new Date(r.getTime()-25056e5).setHours(0,0,0,0)),o={startOrderDate:Math.round(("weekly"===e?n.getTime():a.getTime())/1e3),endOrderDate:Math.round((i?r:t).getTime()/1e3)};if(i){var c="yesterday"===e?t:r;o={startOrderDate:Math.round(new Date(c.setHours(0,0,0,0)).getTime()/1e3),endOrderDate:Math.round(new Date(c.setHours(23,59,59,59)).getTime()/1e3)}}s({type:e,range:o}),D(e),C(!1)}(e)},children:O.c[e]},e)}))})})})}))}})]})}},1599:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return null};n.displayName="Cell"},1604:function(e,t,r){"use strict";r.d(t,"a",(function(){return W}));var n=r(1492),a=r.n(n),i=r(586),o=r.n(i),c=r(486),s=r.n(c),l=r(135),u=r.n(l),d=r(1),b=r.n(d),f=r(357),p=r.n(f),h=r(1544),y=r(1597),m=r(1488),j=r(1466);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w(e){var t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,o=e.dataPointFormatter,c=e.xAxis,s=e.yAxis,l=x(e,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),u=Object(j.c)(l),d=i.map((function(e,i){var l=o(e,a),d=l.x,f=l.y,p=l.value,h=l.errorVal;if(!h)return null;var y,j,v=[];if(Array.isArray(h)){var x=g(h,2);y=x[0],j=x[1]}else y=j=h;if("vertical"===r){var w=c.scale,A=f+t,k=A+n,S=A-n,D=w(p-y),P=w(p+j);v.push({x1:P,y1:k,x2:P,y2:S}),v.push({x1:D,y1:A,x2:P,y2:A}),v.push({x1:D,y1:k,x2:D,y2:S})}else if("horizontal"===r){var E=s.scale,T=d+t,C=T-n,N=T+n,M=E(p-y),I=E(p+j);v.push({x1:C,y1:I,x2:N,y2:I}),v.push({x1:T,y1:M,x2:T,y2:I}),v.push({x1:C,y1:M,x2:N,y2:M})}return b.a.createElement(m.a,O({className:"recharts-errorBar",key:"bar-".concat(i)},u),v.map((function(e,t){return b.a.createElement("line",O({},e,{key:"line-".concat(t)}))})))}));return b.a.createElement(m.a,{className:"recharts-errorBars"},d)}w.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},w.displayName="ErrorBar";var A=r(1599),k=r(1598),S=r(1467),D=r(1532),P=r(1522),E=r(1511);function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var a=K(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return H(this,r)}}function H(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,r,n,i=F(c);function c(){var e;z(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={isAnimationFinished:!1},e.id=Object(S.j)("recharts-bar-"),e.handleAnimationEnd=function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()},e.handleAnimationStart=function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()},e}return t=c,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}},{key:"renderRectangle",value:function(e,t){return b.a.isValidElement(e)?b.a.cloneElement(e,t):s()(e)?e(t):b.a.createElement(y.a,t)}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props.shape,n=Object(j.c)(this.props);return e&&e.map((function(e,a){var i=I(I(I({},n),e),{},{index:a});return b.a.createElement(m.a,N({className:"recharts-bar-rectangle"},Object(j.b)(t.props,e,a),{key:"rectangle-".concat(a)}),c.renderRectangle(r,i))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,c=t.animationEasing,s=t.animationId,l=this.state.prevData;return b.a.createElement(h.a,{begin:i,duration:o,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(s),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,i=r.map((function(e,t){var r=l&&l[t];if(r){var i=Object(S.e)(r.x,e.x),o=Object(S.e)(r.y,e.y),c=Object(S.e)(r.width,e.width),s=Object(S.e)(r.height,e.height);return I(I({},e),{},{x:i(a),y:o(a),width:c(a),height:s(a)})}if("horizontal"===n){var u=Object(S.e)(0,e.height)(a);return I(I({},e),{},{y:e.y+e.height-u,height:u})}var d=Object(S.e)(0,e.width)(a);return I(I({},e),{},{width:d})}));return b.a.createElement(m.a,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&o()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props.data,r=Object(j.c)(this.props.background);return t.map((function(t,n){t.value;var a=t.background,i=C(t,["value","background"]);if(!a)return null;var o=I(I(I(I(I({},i),{},{fill:"#eee"},a),r),Object(j.b)(e.props,t,n)),{},{index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return c.renderRectangle(e.props.background,o)}))}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.data,r=e.xAxis,n=e.yAxis,a=e.layout,i=e.children,o=Object(D.a)(i,w.displayName);if(!o)return null;var c="vertical"===a?t[0].height/2:t[0].width/2;function s(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Object(E.v)(e,t)}}return o.map((function(e,i){return b.a.cloneElement(e,{key:"error-bar-".concat(i),data:t,xAxis:r,yAxis:n,layout:a,offset:c,dataPointFormatter:s})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,i=e.xAxis,o=e.yAxis,c=e.left,s=e.top,l=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(t||!r||!r.length)return null;var y=this.state.isAnimationFinished,j=p()("recharts-bar",n),O=i&&i.allowDataOverflow||o&&o.allowDataOverflow,g=a()(h)?this.id:h;return b.a.createElement(m.a,{className:j},O?b.a.createElement("defs",null,b.a.createElement("clipPath",{id:"clipPath-".concat(g)},b.a.createElement("rect",{x:c,y:s,width:l,height:u}))):null,b.a.createElement(m.a,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(g,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(),(!d||y)&&k.a.renderCallByParent(this.props,r))}}])&&B(t.prototype,r),n&&B(t,n),c}(d.PureComponent);W.displayName="Bar",W.defaultProps={xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!P.a.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"},W.getComposedData=function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,s=e.yAxisTicks,l=e.stackedData,d=e.dataStartIndex,b=e.displayedData,f=e.offset,p=Object(E.e)(n,r);if(!p)return null;var h=t.layout,y=r.props,m=y.dataKey,j=y.children,O=y.minPointSize,g="horizontal"===h?o:i,v=l?g.scale.domain():null,x=Object(E.i)({numericAxis:g}),w=Object(D.a)(j,A.a.displayName),k=b.map((function(e,t){var r,n,b,f,y,j;if(l?r=Object(E.B)(l[d+t],v):(r=Object(E.v)(e,m),u()(r)||(r=[x,r])),"horizontal"===h){if(n=Object(E.j)({axis:i,ticks:c,bandSize:a,offset:p.offset,entry:e,index:t}),b=o.scale(r[1]),f=p.size,y=o.scale(r[0])-o.scale(r[1]),j={x:n,y:o.y,width:f,height:o.height},Math.abs(O)>0&&Math.abs(y)<Math.abs(O)){var g=Object(S.i)(y||O)*(Math.abs(O)-Math.abs(y));b-=g,y+=g}}else n=i.scale(r[0]),b=Object(E.j)({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:e,index:t}),f=i.scale(r[1])-i.scale(r[0]),y=p.size,j={x:i.x,y:b,width:i.width,height:y},Math.abs(O)>0&&Math.abs(f)<Math.abs(O)&&(f+=Object(S.i)(f||O)*(Math.abs(O)-Math.abs(f)));return I(I({},e),{},{x:n,y:b,width:f,height:y,value:l?r:r[1],payload:e,background:j},w&&w[t]&&w[t].props)}));return I({data:k,layout:h},f)}},1722:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(1603),a=r(1604),i=r(1600),o=r(1601),c=r(1533),s=Object(n.a)({chartName:"BarChart",GraphicalChild:a.a,axisComponents:[{axisType:"xAxis",AxisComp:i.a},{axisType:"yAxis",AxisComp:o.a}],formatAxisMap:c.b})},1902:function(e,t,r){"use strict";r.r(t),r.d(t,"useStyles",(function(){return E}));var n=r(2),a=r(4),i=r(0),o=r(1),c=r(58),s=r(200),l=r(35),u=r(41),d=r(1950),b=r(1722),f=r(1895),p=r(1600),h=r(1601),y=r(1860),m=r(1604),j=r(1599),O=r(23),g=r(85),v=r(9),x=r(1542),w=r(40),A=r(34),k=r(16),S=r(22),D=r(1572),P=r(1506),E=Object(c.a)((function(e){return{chartDescription:{marginTop:"0.3125rem"},tooltipContainer:{padding:"0.125rem",background:"white",border:"1px solid #4dabf5"},buttonGroupContainer:{textAlign:"end"},tooltipIcon:{marginLeft:e.spacing(.5)}}}));t.default=function(e){var t=e.salesChannel,r=e.getLoadingStatus,c=E(),T=Object(A.b)(),C=Object(o.useContext)(S.b).brandID,N=new Date,M=new Date(N.setHours(23,59,59,59)-864e5),I=new Date(new Date(M.getTime()-5184e5).setHours(0,0,0,0)),R=Object(o.useState)(0),z=Object(a.a)(R,2),B=z[0],_=z[1],F=Object(o.useState)(P.e),H=Object(a.a)(F,2),K=H[0],W=H[1],G=Object(o.useState)({type:"weekly",range:{startOrderDate:Math.round(I.getTime()/1e3),endOrderDate:Math.round(M.getTime()/1e3)}}),L=Object(a.a)(G,2),U=L[0],J=L[1],V=Object(s.a)((function(e){return e.breakpoints.down("sm")})),Q=Object(O.a)(D.a,{onCompleted:function(e){var t,r,n,a=null===e||void 0===e||null===(t=e.brands[0])||void 0===t||null===(r=t.report)||void 0===r||null===(n=r.bestSellingProduct)||void 0===n?void 0:n.items,i=a.reduce((function(e,t){return e+t.soldQuantity}),0);W(a.length?a:P.e),_(i)},onError:function(e){var r,a;T.show("","error",void 0,Object(k.u)("Gagal memuat statistik produk terlaris!",e)),Object(k.x)({exceptionMessage:"".concat(null===(r=window)||void 0===r||null===(a=r.location)||void 0===a?void 0:a.hostname,". [DASHBOARD_STATISTIC_BSP] ").concat(e.message),context:{title:"context",data:{error:e,query:D.b,variables:JSON.stringify({brandIDs:[C],filter:t?Object(n.a)(Object(n.a)({},U.range),{},{salesChannels:[t]}):U.range,sort:[{fieldName:"NUMBER_OF_ITEM_SOLD",isAscending:!1}],page:{pageNumber:0,itemPerPage:5}})}}})},fetchPolicy:"cache-and-network"}),q=Object(a.a)(Q,2),$=q[0],X=q[1].loading,Y=["#75D5F8","#5DEA91","#FDE180","#EA715A","#1478C9"];Object(o.useMemo)((function(){$({variables:{brandIDs:[C],filter:t?Object(n.a)(Object(n.a)({},U.range),{},{salesChannels:[t]}):U.range,sort:[{fieldName:"NUMBER_OF_ITEM_SOLD",isAscending:!1}],page:{pageNumber:0,itemPerPage:5}}})}),[U,t]),r&&r(X);return Object(i.jsxs)(w.a,{children:[Object(i.jsxs)(l.a,{item:!0,container:!0,children:[Object(i.jsxs)(l.a,{item:!0,xs:6,md:10,children:[Object(i.jsxs)(u.a,{variant:"body1",children:[Object(i.jsx)("strong",{children:"Produk Terlaris Kamu"}),Object(i.jsx)(g.a,{title:"Pantau produk yang paling laris di toko Kamu dan pastikan stok selalu tersedia agar pembeli tidak kehabisan.",children:Object(i.jsx)(v.sb,{fontSize:"small",className:c.tooltipIcon,tabIndex:0})})]}),Object(i.jsx)(u.a,{variant:"body2",className:c.chartDescription,children:Object(i.jsxs)("strong",{children:[B," produk terjual"]})})]}),Object(i.jsx)(l.a,{item:!0,xs:6,md:2,className:c.buttonGroupContainer,children:Object(i.jsx)(x.a,{loading:X,getSelectedPeriod:function(e){J(e)}})})]}),Object(i.jsx)(l.a,{item:!0,children:Object(i.jsx)(d.a,{width:"99%",height:V?160:300,children:Object(i.jsxs)(b.a,{data:K,margin:{top:20,left:-10},barSize:30,children:[Object(i.jsx)(f.a,{strokeDasharray:"3 3"}),Object(i.jsx)(p.a,{dataKey:"productSKU"}),Object(i.jsx)(h.a,{allowDecimals:!1}),Object(i.jsx)(y.a,{content:function(e){var t,r=e.active,n=e.payload,a=e.label;return r&&n?Object(i.jsx)(l.a,{className:c.tooltipContainer,children:(null===(t=n[0])||void 0===t?void 0:t.value)>=0&&Object(i.jsx)(u.a,{variant:"body1",children:"".concat(a," : ").concat(n[0].value)})}):null},cursor:{fill:"transparent"}}),Object(i.jsx)(m.a,{dataKey:"soldQuantity",children:K.map((function(e,t){return Object(i.jsx)(j.a,{fill:Y[t%5]},"cell-".concat(t))}))})]})})})]})}}}]);